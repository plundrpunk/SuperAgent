# SuperAgent - Environment Variables Template
# Copy this file to .env and fill in your actual values
# Usage: cp .env.example .env

# ==============================================================================
# API Keys (Required)
# ==============================================================================
# Anthropic Claude API key (for Kaya, Scribe, Medic, Critic agents)
# Get your key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# OpenAI API key (for voice integration and embeddings)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-key-here

# Google Gemini API key (for Gemini validation agent)
# Get your key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-key-here


# ==============================================================================
# Rate Limiting (API Traffic Control)
# ==============================================================================
# Enable/disable rate limiting across all services
RATE_LIMIT_ENABLED=true

# Anthropic Claude API rate limits (requests per minute)
# Default: 50 RPM (conservative baseline for most tier levels)
# Adjust based on your Anthropic API tier
RATE_LIMIT_ANTHROPIC_RPM=50

# OpenAI API rate limits (requests per minute)
# Default: 60 RPM (suitable for most tier levels)
# Adjust based on your OpenAI tier
RATE_LIMIT_OPENAI_RPM=60

# Google Gemini API rate limits (requests per minute)
# Default: 150 RPM (Tier 1 baseline)
# Free tier: 5 RPM, Tier 1: 150 RPM, Tier 2: 1000 RPM, Tier 3: 2000 RPM
RATE_LIMIT_GEMINI_RPM=150

# ==============================================================================
# API Key Rotation (Optional)
# ==============================================================================
# Secondary API keys for zero-downtime rotation
# Leave empty if not using key rotation
ANTHROPIC_API_KEY_SECONDARY=
OPENAI_API_KEY_SECONDARY=
GEMINI_API_KEY_SECONDARY=

# Key rotation settings
# Enable/disable key rotation feature
KEY_ROTATION_ENABLED=true

# Hours to keep both keys active during rotation (default: 24)
# After this period, the old key can be safely removed
KEY_ROTATION_OVERLAP_HOURS=24


# ==============================================================================
# Redis Configuration (State Management)
# ==============================================================================
# Redis host (use 'redis' for docker-compose, 'localhost' for local development)
REDIS_HOST=redis

# Redis port
REDIS_PORT=6379

# Redis password (optional, leave empty if not using authentication)
REDIS_PASSWORD=

# Redis database index (0-15, default: 0)
REDIS_DB=0


# ==============================================================================
# Vector Database (Cold Storage)
# ==============================================================================
# Path to vector database directory
VECTOR_DB_PATH=./vector_db

# Vector DB collection name
VECTOR_DB_COLLECTION=superagent_rag


# ==============================================================================
# Application Configuration
# ==============================================================================
# Base URL for the application under test
# Update this to your actual test target
BASE_URL=http://localhost:3000

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Working directory for tests
TESTS_DIR=./tests

# Artifacts directory (screenshots, videos, traces)
ARTIFACTS_DIR=./artifacts


# ==============================================================================
# Cost Management
# ==============================================================================
# Maximum cost per feature (in USD)
MAX_COST_PER_FEATURE=0.50

# Cost override for critical paths (auth, payment)
CRITICAL_PATH_MAX_COST=3.00

# Daily budget limit (in USD)
DAILY_BUDGET_LIMIT=50.00


# ==============================================================================
# Agent Configuration
# ==============================================================================
# Default model for Kaya orchestrator (haiku or sonnet)
KAYA_DEFAULT_MODEL=haiku

# Default model for Scribe test writer (haiku or sonnet)
SCRIBE_DEFAULT_MODEL=sonnet

# Default model for Medic bug fixer (haiku or sonnet)
MEDIC_DEFAULT_MODEL=sonnet

# Complexity threshold (â‰¥5 = hard task, use Sonnet; <5 = easy task, use Haiku)
COMPLEXITY_THRESHOLD=5


# ==============================================================================
# Playwright Configuration
# ==============================================================================
# Playwright browsers path (default: system cache)
PLAYWRIGHT_BROWSERS_PATH=/root/.cache/ms-playwright

# Playwright timeout (milliseconds)
PLAYWRIGHT_TIMEOUT=45000

# Playwright headless mode (true or false)
PLAYWRIGHT_HEADLESS=true

# Playwright screenshot mode (on, off, only-on-failure)
PLAYWRIGHT_SCREENSHOT=on

# Playwright video mode (on, off, retain-on-failure)
PLAYWRIGHT_VIDEO=retain-on-failure

# Playwright trace mode (on, off, retain-on-failure)
PLAYWRIGHT_TRACE=retain-on-failure


# ==============================================================================
# HITL (Human-in-the-Loop) Configuration
# ==============================================================================
# Maximum retry attempts before escalating to HITL
MAX_RETRY_ATTEMPTS=3

# HITL queue priority threshold (0.0-1.0, tasks above this are high priority)
HITL_PRIORITY_THRESHOLD=0.7

# HITL queue timeout (hours, how long to keep tasks in queue)
HITL_QUEUE_TIMEOUT_HOURS=24


# ==============================================================================
# Observability and Monitoring
# ==============================================================================
# WebSocket port for observability dashboard
OBSERVABILITY_PORT=8000

# Enable telemetry (true or false)
ENABLE_TELEMETRY=true

# Metrics export interval (seconds)
METRICS_EXPORT_INTERVAL=60


# ==============================================================================
# Voice Integration (OpenAI Realtime API)
# ==============================================================================
# Enable voice control (true or false)
ENABLE_VOICE=false

# Voice model (gpt-4o-realtime-preview)
VOICE_MODEL=gpt-4o-realtime-preview

# Voice language (en-US, en-GB, etc.)
VOICE_LANGUAGE=en-US


# ==============================================================================
# Security
# ==============================================================================
# Enable sandbox mode (restricts agent file system access)
ENABLE_SANDBOX=false

# Allowed test directories (comma-separated list)
ALLOWED_TEST_DIRS=./tests,./e2e

# Maximum test execution time (milliseconds)
MAX_TEST_EXECUTION_TIME=60000


# ==============================================================================
# Development Settings
# ==============================================================================
# Enable debug mode (verbose logging, detailed error messages)
DEBUG_MODE=false

# Dry run mode (simulate agent actions without executing)
DRY_RUN=false

# Enable agent result caching
ENABLE_CACHING=true

# Cache TTL (seconds)
CACHE_TTL=3600
